generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model LogTransaccional {
  id_log      Int      @id @default(autoincrement())
  fecha       DateTime @db.DateTime(0)
  descripcion String   @db.VarChar(255)
  estado      String   @db.VarChar(20)
}

model Curso {
  id_curso           Int      @id @default(autoincrement())
  cupos              Int
  fecha_inicio       DateTime @db.Date
  fecha_fin          DateTime @db.Date
  estado             String   @db.VarChar(1)
  Materia_id_materia Int?
  Materia            Materia? @relation(fields: [Materia_id_materia], references: [id_materia], onDelete: NoAction, onUpdate: NoAction, map: "Curso_ibfk_1")

  @@index([Materia_id_materia], map: "Materia_id_materia")
}

model Materia {
  id_materia     Int     @id @default(autoincrement())
  nombre_materia String  @db.VarChar(45)
  creditos       Int
  codigo_materia Int
  estado         String  @db.VarChar(1)
  es_habilitable String  @db.VarChar(2)
  Curso          Curso[]
}

model Usuario {
  id_usuario       Int    @id @default(autoincrement())
  numero_documento String @db.VarChar(30)
  nombre_usuario   String @db.VarChar(45)
  apellido_usuario String @db.VarChar(45)
  tipo_documento   String @db.VarChar(2)
  codigo           String @db.VarChar(10)
  estado           String @db.VarChar(1)
  imagen           String @db.VarChar(200)
}
